<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta http-equiv="cache-control" content="max-age=0" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="expires" content="0" />
		<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
		<meta http-equiv="pragma" content="no-cache" />

		<title>DB of Dance</title>
		<link href="images/logoGreen.png" rel="shortcut icon">
		<meta charset="UTF-8">
		<meta name="description" content="A browsable video-archive of dance moves.">
		<meta name="keywords" content="HTML, CSS, javaScript, Dance">
		<meta name="author" content="Koger Darden, James Speller">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Import Jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		
		<!-- Normalize CSS -->
		<link rel="stylesheet" href="{{ url_for('static',filename='css/normalize.css') }}">

		<!-- Material Design Iconic Font (Icons and Fonts) -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">

		<!-- Responsive CSS -->
		<link rel="stylesheet" href="{{ url_for('static',filename='css/responsive.css') }}">

		<!-- Main Stylesheet -->
		<link rel="stylesheet" href="{{ url_for('static',filename='css/style.css') }}">

	</head-->
	<body onscroll="myFunction()">
		<header>
			<h1>Database of Dance</h1>
		</header>

		<!-- Navigation section -->
		<nav id="navbar">
			{% for genre in genres %}
			<a href="{{genre}}">{{genre}}</a>
			{% endfor %}
		</nav>

		{% for genre in df.Genre.unique() %}
		<div class="genre-section">
			<h1 style="text-align:center; background-color:red">{{genre}}</h1>
			{% for style in (df[df['Genre'] == genre]).Style.unique() %}
			<div class="container">
				<div class="style-section">
					<div class="section-title">
						{{style}}
					</div>
					<div class="variation-section">
						{% for index, row in (df[df['Style'] == style]).iterrows() %}
						<div class="variation-thumbnail" data-video="{{row['Title']}}">{{row['Variation']}}</div>
						{% endfor %}
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
		{% endfor %}

		<!-- SlideOut box -->
		<div id="slideOut">
			<!--   Tab -->
			<div class="slideOutTab">
			    <div>
			    	<p>i am tab.</p>
			    </div>
			</div>

			<!-- Embedded Video Player -->
			<div id="divVideo">
			  	<video controls>
			    	<source src="" type="video/mp4" />
				</video>
			</div>

			<div class="modal-content">
		    	<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
		    		<h4 class="modal-title">Hello World!</h4> 
		    	</div>
				<div class="modal-body">
		    		<p>One fine body…</p>
			    </div>
			    <div class="modal-footer"> </div>
			</div>
		</div>

	</body>
</html>
<script type="text/javascript">
	// Get the navbar
	var navbar = document.getElementById("navbar");
	// Get the offset position of the navbar
	var sticky = navbar.offsetTop;

	// Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position
	window.onscroll = function(e) {
		if (window.pageYOffset >= sticky) {
			navbar.classList.add("sticky")
		} else {
	    	navbar.classList.remove("sticky");
		}
	}

	this.$slideOut = $('#slideOut');

	// Slideout show
	this.$slideOut.find('.slideOutTab').on('click', function() {
		$("#slideOut").toggleClass('showSlideOut');
	});

	$(".variation-thumbnail").click(function() {
		var video = $(this).data('video');
		if 	($("#divVideo video source").attr("src") != "/static/vid/"+video) {
			$("#slideOut").addClass('showSlideOut');
			$("#divVideo video source").attr("src","/static/vid/"+video)
			$("#divVideo video")[0].load();
			$("#divVideo video")[0].play();
		}

	});
</script>
